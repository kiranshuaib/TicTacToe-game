{"filter":false,"title":"index.js","tooltip":"/js/index.js","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":125,"column":19},"end":{"row":125,"column":20},"action":"insert","lines":["e"],"id":2964}],[{"start":{"row":125,"column":20},"end":{"row":125,"column":21},"action":"insert","lines":[" "],"id":2965}],[{"start":{"row":125,"column":21},"end":{"row":125,"column":22},"action":"insert","lines":[">"],"id":2966}],[{"start":{"row":125,"column":22},"end":{"row":125,"column":23},"action":"insert","lines":[" "],"id":2967}],[{"start":{"row":125,"column":23},"end":{"row":125,"column":24},"action":"insert","lines":["b"],"id":2968}],[{"start":{"row":125,"column":24},"end":{"row":125,"column":25},"action":"insert","lines":["e"],"id":2969}],[{"start":{"row":125,"column":25},"end":{"row":125,"column":26},"action":"insert","lines":["s"],"id":2970}],[{"start":{"row":125,"column":26},"end":{"row":125,"column":27},"action":"insert","lines":["t"],"id":2971}],[{"start":{"row":125,"column":23},"end":{"row":125,"column":27},"action":"remove","lines":["best"],"id":2972},{"start":{"row":125,"column":23},"end":{"row":125,"column":32},"action":"insert","lines":["bestScore"]}],[{"start":{"row":125,"column":33},"end":{"row":126,"column":0},"action":"insert","lines":["",""],"id":2973},{"start":{"row":126,"column":0},"end":{"row":126,"column":3},"action":"insert","lines":["\t\t\t"]}],[{"start":{"row":126,"column":3},"end":{"row":126,"column":4},"action":"insert","lines":["b"],"id":2974}],[{"start":{"row":126,"column":4},"end":{"row":126,"column":5},"action":"insert","lines":["e"],"id":2975}],[{"start":{"row":126,"column":5},"end":{"row":126,"column":6},"action":"insert","lines":["s"],"id":2976}],[{"start":{"row":126,"column":6},"end":{"row":126,"column":7},"action":"insert","lines":["t"],"id":2977}],[{"start":{"row":126,"column":3},"end":{"row":126,"column":7},"action":"remove","lines":["best"],"id":2978},{"start":{"row":126,"column":3},"end":{"row":126,"column":12},"action":"insert","lines":["bestScore"]}],[{"start":{"row":126,"column":12},"end":{"row":126,"column":13},"action":"insert","lines":[" "],"id":2979}],[{"start":{"row":126,"column":13},"end":{"row":126,"column":14},"action":"insert","lines":["="],"id":2980}],[{"start":{"row":126,"column":14},"end":{"row":126,"column":15},"action":"insert","lines":[" "],"id":2981}],[{"start":{"row":125,"column":33},"end":{"row":125,"column":34},"action":"insert","lines":["{"],"id":2982}],[{"start":{"row":126,"column":15},"end":{"row":127,"column":0},"action":"insert","lines":["",""],"id":2983},{"start":{"row":127,"column":0},"end":{"row":127,"column":3},"action":"insert","lines":["\t\t\t"]}],[{"start":{"row":127,"column":3},"end":{"row":127,"column":4},"action":"insert","lines":["}"],"id":2984}],[{"start":{"row":126,"column":15},"end":{"row":126,"column":16},"action":"insert","lines":["m"],"id":2985}],[{"start":{"row":126,"column":16},"end":{"row":126,"column":17},"action":"insert","lines":["o"],"id":2986}],[{"start":{"row":126,"column":17},"end":{"row":126,"column":18},"action":"insert","lines":["v"],"id":2987}],[{"start":{"row":126,"column":18},"end":{"row":126,"column":19},"action":"insert","lines":["e"],"id":2988}],[{"start":{"row":126,"column":19},"end":{"row":126,"column":20},"action":"insert","lines":["s"],"id":2989}],[{"start":{"row":126,"column":20},"end":{"row":126,"column":22},"action":"insert","lines":["[]"],"id":2990}],[{"start":{"row":126,"column":21},"end":{"row":126,"column":22},"action":"insert","lines":["i"],"id":2991}],[{"start":{"row":126,"column":23},"end":{"row":126,"column":24},"action":"insert","lines":[";"],"id":2992}],[{"start":{"row":126,"column":23},"end":{"row":126,"column":24},"action":"insert","lines":["."],"id":2993}],[{"start":{"row":126,"column":24},"end":{"row":126,"column":25},"action":"insert","lines":["s"],"id":2994}],[{"start":{"row":126,"column":25},"end":{"row":126,"column":26},"action":"insert","lines":["c"],"id":2995}],[{"start":{"row":126,"column":26},"end":{"row":126,"column":27},"action":"insert","lines":["o"],"id":2996}],[{"start":{"row":126,"column":27},"end":{"row":126,"column":28},"action":"insert","lines":["r"],"id":2997}],[{"start":{"row":126,"column":28},"end":{"row":126,"column":29},"action":"insert","lines":["e"],"id":2998}],[{"start":{"row":126,"column":30},"end":{"row":127,"column":0},"action":"insert","lines":["",""],"id":2999},{"start":{"row":127,"column":0},"end":{"row":127,"column":3},"action":"insert","lines":["\t\t\t"]}],[{"start":{"row":127,"column":3},"end":{"row":127,"column":4},"action":"insert","lines":["b"],"id":3000}],[{"start":{"row":127,"column":4},"end":{"row":127,"column":5},"action":"insert","lines":["e"],"id":3001}],[{"start":{"row":127,"column":5},"end":{"row":127,"column":6},"action":"insert","lines":["s"],"id":3002}],[{"start":{"row":127,"column":6},"end":{"row":127,"column":7},"action":"insert","lines":["t"],"id":3003}],[{"start":{"row":127,"column":3},"end":{"row":127,"column":7},"action":"remove","lines":["best"],"id":3004},{"start":{"row":127,"column":3},"end":{"row":127,"column":11},"action":"insert","lines":["bestMove"]}],[{"start":{"row":127,"column":11},"end":{"row":127,"column":12},"action":"insert","lines":[" "],"id":3005}],[{"start":{"row":127,"column":12},"end":{"row":127,"column":13},"action":"insert","lines":["="],"id":3006}],[{"start":{"row":127,"column":13},"end":{"row":127,"column":14},"action":"insert","lines":[" "],"id":3007}],[{"start":{"row":127,"column":14},"end":{"row":127,"column":15},"action":"insert","lines":["i"],"id":3008}],[{"start":{"row":127,"column":15},"end":{"row":127,"column":16},"action":"insert","lines":[";"],"id":3009}],[{"start":{"row":130,"column":2},"end":{"row":130,"column":3},"action":"insert","lines":[" "],"id":3010}],[{"start":{"row":130,"column":3},"end":{"row":130,"column":4},"action":"insert","lines":["e"],"id":3011}],[{"start":{"row":130,"column":4},"end":{"row":130,"column":5},"action":"insert","lines":["l"],"id":3012}],[{"start":{"row":130,"column":5},"end":{"row":130,"column":6},"action":"insert","lines":["s"],"id":3013}],[{"start":{"row":130,"column":6},"end":{"row":130,"column":7},"action":"insert","lines":["e"],"id":3014}],[{"start":{"row":130,"column":7},"end":{"row":130,"column":8},"action":"insert","lines":[" "],"id":3015}],[{"start":{"row":130,"column":8},"end":{"row":130,"column":9},"action":"insert","lines":["{"],"id":3016}],[{"start":{"row":130,"column":9},"end":{"row":132,"column":2},"action":"insert","lines":["","\t\t","\t}"],"id":3017}],[{"start":{"row":131,"column":1},"end":{"row":131,"column":2},"action":"insert","lines":[" "],"id":3018}],[{"start":{"row":131,"column":2},"end":{"row":131,"column":3},"action":"insert","lines":[" "],"id":3019}],[{"start":{"row":131,"column":3},"end":{"row":131,"column":4},"action":"insert","lines":[" "],"id":3020}],[{"start":{"row":131,"column":4},"end":{"row":131,"column":5},"action":"insert","lines":[" "],"id":3021}],[{"start":{"row":131,"column":5},"end":{"row":135,"column":16},"action":"insert","lines":["var bestScore = -10000;","\t\tfor(i=0;i<moves.length;i++){","\t\t\tif(moves[i].score > bestScore){","\t\t\tbestScore = moves[i].score;","\t\t\tbestMove = i;"],"id":3022}],[{"start":{"row":131,"column":21},"end":{"row":131,"column":22},"action":"remove","lines":["-"],"id":3023}],[{"start":{"row":133,"column":21},"end":{"row":133,"column":22},"action":"remove","lines":[">"],"id":3024}],[{"start":{"row":133,"column":21},"end":{"row":133,"column":22},"action":"insert","lines":["<"],"id":3025}],[{"start":{"row":136,"column":2},"end":{"row":137,"column":0},"action":"insert","lines":["",""],"id":3026},{"start":{"row":137,"column":0},"end":{"row":137,"column":1},"action":"insert","lines":["\t"]}],[{"start":{"row":137,"column":1},"end":{"row":137,"column":2},"action":"insert","lines":["}"],"id":3027},{"start":{"row":137,"column":0},"end":{"row":137,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":137,"column":0},"end":{"row":137,"column":2},"action":"insert","lines":["\t\t"]}],[{"start":{"row":137,"column":3},"end":{"row":138,"column":0},"action":"insert","lines":["",""],"id":3028},{"start":{"row":138,"column":0},"end":{"row":138,"column":2},"action":"insert","lines":["\t\t"]}],[{"start":{"row":138,"column":2},"end":{"row":138,"column":3},"action":"insert","lines":["}"],"id":3029},{"start":{"row":138,"column":0},"end":{"row":138,"column":2},"action":"remove","lines":["\t\t"]},{"start":{"row":138,"column":0},"end":{"row":138,"column":1},"action":"insert","lines":["\t"]}],[{"start":{"row":138,"column":2},"end":{"row":139,"column":0},"action":"insert","lines":["",""],"id":3030},{"start":{"row":139,"column":0},"end":{"row":139,"column":1},"action":"insert","lines":["\t"]}],[{"start":{"row":136,"column":1},"end":{"row":136,"column":2},"action":"insert","lines":[" "],"id":3031}],[{"start":{"row":136,"column":2},"end":{"row":136,"column":3},"action":"insert","lines":[" "],"id":3032}],[{"start":{"row":136,"column":3},"end":{"row":136,"column":4},"action":"insert","lines":[" "],"id":3033}],[{"start":{"row":136,"column":4},"end":{"row":136,"column":5},"action":"insert","lines":[" "],"id":3034}],[{"start":{"row":136,"column":5},"end":{"row":136,"column":6},"action":"insert","lines":[" "],"id":3035}],[{"start":{"row":137,"column":1},"end":{"row":137,"column":2},"action":"remove","lines":["\t"],"id":3036}],[{"start":{"row":137,"column":0},"end":{"row":137,"column":1},"action":"remove","lines":["\t"],"id":3037}],[{"start":{"row":137,"column":0},"end":{"row":137,"column":1},"action":"insert","lines":["\t"],"id":3038}],[{"start":{"row":138,"column":0},"end":{"row":138,"column":1},"action":"remove","lines":["\t"],"id":3039}],[{"start":{"row":139,"column":0},"end":{"row":139,"column":1},"action":"insert","lines":["\t"],"id":3040}],[{"start":{"row":139,"column":1},"end":{"row":139,"column":2},"action":"insert","lines":["\t"],"id":3041}],[{"start":{"row":139,"column":2},"end":{"row":139,"column":3},"action":"insert","lines":["b"],"id":3042}],[{"start":{"row":139,"column":3},"end":{"row":139,"column":4},"action":"insert","lines":["e"],"id":3043}],[{"start":{"row":139,"column":4},"end":{"row":139,"column":5},"action":"insert","lines":["s"],"id":3044}],[{"start":{"row":139,"column":2},"end":{"row":139,"column":5},"action":"remove","lines":["bes"],"id":3045},{"start":{"row":139,"column":2},"end":{"row":139,"column":10},"action":"insert","lines":["bestMove"]}],[{"start":{"row":139,"column":1},"end":{"row":139,"column":2},"action":"insert","lines":["r"],"id":3046}],[{"start":{"row":139,"column":2},"end":{"row":139,"column":3},"action":"insert","lines":["e"],"id":3047}],[{"start":{"row":139,"column":3},"end":{"row":139,"column":4},"action":"insert","lines":["t"],"id":3048}],[{"start":{"row":139,"column":4},"end":{"row":139,"column":5},"action":"insert","lines":["u"],"id":3049}],[{"start":{"row":139,"column":5},"end":{"row":139,"column":6},"action":"insert","lines":["r"],"id":3050}],[{"start":{"row":139,"column":6},"end":{"row":139,"column":7},"action":"insert","lines":["n"],"id":3051}],[{"start":{"row":139,"column":7},"end":{"row":139,"column":9},"action":"insert","lines":["()"],"id":3052}],[{"start":{"row":139,"column":8},"end":{"row":139,"column":9},"action":"remove","lines":[")"],"id":3053}],[{"start":{"row":139,"column":8},"end":{"row":139,"column":9},"action":"insert","lines":["m"],"id":3054}],[{"start":{"row":139,"column":9},"end":{"row":139,"column":10},"action":"insert","lines":["o"],"id":3055}],[{"start":{"row":139,"column":10},"end":{"row":139,"column":11},"action":"insert","lines":["v"],"id":3056}],[{"start":{"row":139,"column":11},"end":{"row":139,"column":12},"action":"insert","lines":["e"],"id":3057}],[{"start":{"row":139,"column":12},"end":{"row":139,"column":13},"action":"insert","lines":["s"],"id":3058}],[{"start":{"row":139,"column":13},"end":{"row":139,"column":14},"action":"remove","lines":["\t"],"id":3059}],[{"start":{"row":139,"column":13},"end":{"row":139,"column":14},"action":"insert","lines":["["],"id":3060}],[{"start":{"row":139,"column":22},"end":{"row":139,"column":23},"action":"insert","lines":["]"],"id":3061}],[{"start":{"row":139,"column":23},"end":{"row":139,"column":24},"action":"insert","lines":[")"],"id":3062}],[{"start":{"row":139,"column":24},"end":{"row":139,"column":25},"action":"insert","lines":[";"],"id":3063}],[{"start":{"row":0,"column":0},"end":{"row":140,"column":1},"action":"remove","lines":["var origBoard;","const huPlayer = 'O';","const aiPlayer = 'X';","const winCombos = [","\t[0, 1, 2],","\t[3, 4, 5],","\t[6, 7, 8],","\t[0, 3, 6],","\t[1, 4, 7],","\t[2, 5, 8],","\t[0, 4, 8],","\t[6, 4, 2]","]","","const cells = document.querySelectorAll('.cell');","startGame();","","function startGame() {","\tdocument.querySelector(\".endgame\").style.display = \"none\";","\torigBoard = Array.from(Array(9).keys());","\tfor (var i = 0; i < cells.length; i++) {","\t\tcells[i].innerText = '';","\t\tcells[i].style.removeProperty('background-color');","\t\tcells[i].addEventListener('click', turnClick, false);","\t}","}","","function turnClick(square) {","\tif (typeof origBoard[square.target.id] == 'number') {","\t\tturn(square.target.id, huPlayer)","\t\tif (!checkTie()) turn(bestSpot(), aiPlayer);","\t}","}","","function turn(squareId, player) {","\torigBoard[squareId] = player;","\tdocument.getElementById(squareId).innerText = player;","\tlet gameWon = checkWin(origBoard, player)","\tif (gameWon) gameOver(gameWon)","}","","function checkWin(board, player) {","\tlet plays = board.reduce((a, e, i) => ","\t\t(e === player) ? a.concat(i) : a, []);","\tlet gameWon = null;","\tfor (let [index, win] of winCombos.entries()) {","\t\tif (win.every(elem => plays.indexOf(elem) > -1)) {","\t\t\tgameWon = {index: index, player: player};","\t\t\tbreak;","\t\t}","\t}","\treturn gameWon;","}","","function gameOver(gameWon) {","\tfor (let index of winCombos[gameWon.index]) {","\t\tdocument.getElementById(index).style.backgroundColor =","\t\t\tgameWon.player == huPlayer ? \"blue\" : \"red\";","\t}","\tfor (var i = 0; i < cells.length; i++) {","\t\tcells[i].removeEventListener('click', turnClick, false);","\t}","\tdeclareWinner(gameWon.player === huPlayer ? \"You win!\" : \"You lose\");","}","","function declareWinner(who) {","\tdocument.querySelector(\".endgame\").style.display = \"block\";","\tdocument.querySelector(\".endgame .text\").innerText = who;","}","","function emptySquares() {","\treturn origBoard.filter(s => typeof s == 'number');","}","","function bestSpot() {","\treturn minimax(origBoard,aiplayer).index;","}","","function checkTie() {","\tif (emptySquares().length == 0) {","\t\tfor (var i = 0; i < cells.length; i++) {","\t\t\tcells[i].style.backgroundColor = \"green\";","\t\t\tcells[i].removeEventListener('click', turnClick, false);","\t\t}","\t\tdeclareWinner(\"Tie Game!\")","\t\treturn true;","\t}","\treturn false;","}","","function minimax(newBoard,player){","\tvar availSpots =emptySquares(newBoard);","","// check the terminal states\t","\tif(checkWin(newBoard,player)){","\t\treturn{scores:-10}","\t} else if(checkWin(newBoard,aiPlayer)){","\t\treturn{score:10};","\t} else if(availSpots.length === 0){","\t\treturn{score:0};","\t}","\t","\tvar moves = [];\t","\tfor(var i=0;i<availSpots.length;i++){","\t\tvar move = {};","\t\tmove.index=newBoard[availSpots[i]];","\t\tnewBoard[availSpots[i]] = player;","\t\t","\tif (player == aiPlayer){","\t\tvar result = minimax(newBoard,huPlayer);","\t\tmove.score = result.score;","\t} else {","\t\tvar result = minimax(newBoard,aiPlayer);","\t\tmove.score = result.score;","\t}","\t","\tnewBoard[availSpots[i]] = move.index;","\t","\tmoves.push(move);","\t}","\t","\tvar bestMove;","\tif(player === aiPlayer){","\t\tvar bestScore = -10000;","\t\tfor(i=0;i<moves.length;i++){","\t\t\tif(moves[i].score > bestScore){","\t\t\tbestScore = moves[i].score;","\t\t\tbestMove = i;","\t\t\t}","\t\t}","\t} else {","\t    var bestScore = 10000;","\t\tfor(i=0;i<moves.length;i++){","\t\t\tif(moves[i].score < bestScore){","\t\t\tbestScore = moves[i].score;","\t\t\tbestMove = i;\t","\t     }","\t}","}","\treturn(moves[bestMove]);\t","}"],"id":3064},{"start":{"row":0,"column":0},"end":{"row":139,"column":1},"action":"insert","lines":["var origBoard;","const huPlayer = 'O';","const aiPlayer = 'X';","const winCombos = [","\t[0, 1, 2],","\t[3, 4, 5],","\t[6, 7, 8],","\t[0, 3, 6],","\t[1, 4, 7],","\t[2, 5, 8],","\t[0, 4, 8],","\t[6, 4, 2]","]","","const cells = document.querySelectorAll('.cell');","startGame();","","function startGame() {","\tdocument.querySelector(\".endgame\").style.display = \"none\";","\torigBoard = Array.from(Array(9).keys());","\tfor (var i = 0; i < cells.length; i++) {","\t\tcells[i].innerText = '';","\t\tcells[i].style.removeProperty('background-color');","\t\tcells[i].addEventListener('click', turnClick, false);","\t}","}","","function turnClick(square) {","\tif (typeof origBoard[square.target.id] == 'number') {","\t\tturn(square.target.id, huPlayer)","\t\tif (!checkWin(origBoard, huPlayer) && !checkTie()) turn(bestSpot(), aiPlayer);","\t}","}","","function turn(squareId, player) {","\torigBoard[squareId] = player;","\tdocument.getElementById(squareId).innerText = player;","\tlet gameWon = checkWin(origBoard, player)","\tif (gameWon) gameOver(gameWon)","}","","function checkWin(board, player) {","\tlet plays = board.reduce((a, e, i) =>","\t\t(e === player) ? a.concat(i) : a, []);","\tlet gameWon = null;","\tfor (let [index, win] of winCombos.entries()) {","\t\tif (win.every(elem => plays.indexOf(elem) > -1)) {","\t\t\tgameWon = {index: index, player: player};","\t\t\tbreak;","\t\t}","\t}","\treturn gameWon;","}","","function gameOver(gameWon) {","\tfor (let index of winCombos[gameWon.index]) {","\t\tdocument.getElementById(index).style.backgroundColor =","\t\t\tgameWon.player == huPlayer ? \"blue\" : \"red\";","\t}","\tfor (var i = 0; i < cells.length; i++) {","\t\tcells[i].removeEventListener('click', turnClick, false);","\t}","\tdeclareWinner(gameWon.player == huPlayer ? \"You win!\" : \"You lose.\");","}","","function declareWinner(who) {","\tdocument.querySelector(\".endgame\").style.display = \"block\";","\tdocument.querySelector(\".endgame .text\").innerText = who;","}","","function emptySquares() {","\treturn origBoard.filter(s => typeof s == 'number');","}","","function bestSpot() {","\treturn minimax(origBoard, aiPlayer).index;","}","","function checkTie() {","\tif (emptySquares().length == 0) {","\t\tfor (var i = 0; i < cells.length; i++) {","\t\t\tcells[i].style.backgroundColor = \"green\";","\t\t\tcells[i].removeEventListener('click', turnClick, false);","\t\t}","\t\tdeclareWinner(\"Tie Game!\")","\t\treturn true;","\t}","\treturn false;","}","","function minimax(newBoard, player) {","\tvar availSpots = emptySquares(newBoard);","","\tif (checkWin(newBoard, huPlayer)) {","\t\treturn {score: -10};","\t} else if (checkWin(newBoard, aiPlayer)) {","\t\treturn {score: 10};","\t} else if (availSpots.length === 0) {","\t\treturn {score: 0};","\t}","\tvar moves = [];","\tfor (var i = 0; i < availSpots.length; i++) {","\t\tvar move = {};","\t\tmove.index = newBoard[availSpots[i]];","\t\tnewBoard[availSpots[i]] = player;","","\t\tif (player == aiPlayer) {","\t\t\tvar result = minimax(newBoard, huPlayer);","\t\t\tmove.score = result.score;","\t\t} else {","\t\t\tvar result = minimax(newBoard, aiPlayer);","\t\t\tmove.score = result.score;","\t\t}","","\t\tnewBoard[availSpots[i]] = move.index;","","\t\tmoves.push(move);","\t}","","\tvar bestMove;","\tif(player === aiPlayer) {","\t\tvar bestScore = -10000;","\t\tfor(var i = 0; i < moves.length; i++) {","\t\t\tif (moves[i].score > bestScore) {","\t\t\t\tbestScore = moves[i].score;","\t\t\t\tbestMove = i;","\t\t\t}","\t\t}","\t} else {","\t\tvar bestScore = 10000;","\t\tfor(var i = 0; i < moves.length; i++) {","\t\t\tif (moves[i].score < bestScore) {","\t\t\t\tbestScore = moves[i].score;","\t\t\t\tbestMove = i;","\t\t\t}","\t\t}","\t}","","\treturn moves[bestMove];","}"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":5,"column":11},"end":{"row":5,"column":11},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":16,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1518652274313,"hash":"d09bacaacdd6416ab8f5a32ed1be7a2941609e5b"}